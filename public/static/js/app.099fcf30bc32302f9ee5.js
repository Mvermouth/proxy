webpackJsonp([1],{AHlL:function(e,t){},DAia:function(e,t){},JXHs:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r={handle:function(e){var t,n=e.render,a=e.onOk;return e.render=function(e){return t=n.call(this,e)},e.onOk=function(){return a.call(this,t&&t.componentInstance)},e},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()},getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},delCookie:function(e){var t=new Date;t.setTime(t.getTime()-1);var n=getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())}},s=r,o={name:"App",mounted:function(){this.$refs.app.style.height=window.innerHeight+"px",this.$refs.app.style.width=window.innerWidth+"px",s.getCookie("key")||this.$router.push("/login")}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"app",attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")(o,i,!1,function(e){n("cNMg")},null,null).exports,u=n("/ocq"),l=n("Muz9"),p={data:function(){return{value:"login",formLogin:{user:"",password:""},formReg:{user:"",password:"",ratio:""},ruleLogin:{user:[{required:!0,message:"请填写用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"最少6位",trigger:"blur"}]},ruleReg:{user:[{required:!0,message:"请填写用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"最少6位",trigger:"blur"}],ratio:[{required:!0,message:"请填写邀请码",trigger:"blur"}]}}},methods:{handleLogin:function(){var e=this,t=this;this.$refs.formInline.validate(function(n){n?l.post("/api/login",e.formLogin).then(function(e){e&&200==e.status&&e.data&&0==e.data.code?(s.setCookie("key",e.data.data.key),t.$Message.success(e.data&&e.data.msg),t.$router.push("/index/pidmanage")):t.$Message.error(e.data&&e.data.msg)}):e.$Message.error("请完善表单!")})},handleReg:function(){var e=this,t=this;this.$refs.formReg.validate(function(n){n?l.post("/api/reg",e.formReg).then(function(e){e&&200==e.status&&e.data&&0==e.data.code?(t.$Message.success(e.data.msg),t.value="login"):t.$Message.error(e.data&&e.data.msg)}):e.$Message.error("请完善表单!")})},c:function(e){this.value=e}},mounted:function(){}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-index"},[n("div",{staticClass:"formWrap"},[n("Tabs",{attrs:{value:e.value},on:{"on-click":e.c}},[n("TabPane",{attrs:{label:"登录",name:"login"}},[n("Form",{ref:"formInline",attrs:{model:e.formLogin,rules:e.ruleLogin}},[n("FormItem",{attrs:{prop:"user"}},[n("Input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.formLogin.user,callback:function(t){e.$set(e.formLogin,"user",t)},expression:"formLogin.user"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{attrs:{prop:"password"}},[n("Input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.formLogin.password,callback:function(t){e.$set(e.formLogin,"password",t)},expression:"formLogin.password"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1)],1),e._v(" "),n("Button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("登录")])],1),e._v(" "),n("TabPane",{attrs:{label:"注册",name:"reg"}},[n("Form",{ref:"formReg",attrs:{model:e.formReg,rules:e.ruleReg}},[n("FormItem",{attrs:{prop:"user"}},[n("Input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.formReg.user,callback:function(t){e.$set(e.formReg,"user",t)},expression:"formReg.user"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{attrs:{prop:"password"}},[n("Input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.formReg.password,callback:function(t){e.$set(e.formReg,"password",t)},expression:"formReg.password"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{attrs:{prop:"ratio"}},[n("Input",{attrs:{type:"password",placeholder:"邀请码"},model:{value:e.formReg.ratio,callback:function(t){e.$set(e.formReg,"ratio",t)},expression:"formReg.ratio"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1)],1),e._v(" "),n("Button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleReg}},[e._v("注册")])],1)],1)],1)])},staticRenderFns:[]};var g=n("VU/8")(p,d,!1,function(e){n("AHlL")},"data-v-2b7dacf1",null).exports,h=(n("Muz9"),{data:function(){return{currModule:"manage-pidmanage"}},methods:{onselect:function(e){if(console.log(e),e!=this.currModule){this.currModule=e;var t=e.split("-")[1];this.$router.push("/index/"+t)}}},mounted:function(){}}),m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index_full flex"},[n("div",{staticClass:"menu"},[n("Menu",{attrs:{theme:"dark","active-name":"manage-pidmanage","open-names":["manage","account"],width:"100%"},on:{"on-select":e.onselect}},[n("Submenu",{attrs:{name:"manage"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"ios-paper"}}),e._v("\n                  管理\n              ")],1),e._v(" "),n("MenuItem",{attrs:{name:"manage-pidmanage"}},[e._v("pid管理")]),e._v(" "),n("MenuItem",{attrs:{name:"manage-incomemanage"}},[e._v("收益列表")])],2),e._v(" "),n("Submenu",{attrs:{name:"account"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"ios-paper"}}),e._v("\n                  账号管理\n              ")],1),e._v(" "),n("MenuItem",{attrs:{name:"account-accountmanage"}},[e._v("修改密码")])],2)],1)],1),e._v(" "),n("div",{staticClass:"content"},[n("router-view",{staticStyle:{width:"100%",height:"100%"}})],1)])},staticRenderFns:[]};var f=n("VU/8")(h,m,!1,function(e){n("rNfa")},"data-v-7b4726ce",null).exports,v=n("Xxa5"),w=n.n(v),b=n("exGp"),k=n.n(b),_={data:function(){return{value:1}},props:{pageObj:{type:Object}},mounted:function(){console.log(this.pageObj)},methods:{changePage:function(e){console.log(e),this.$emit("changepage",e)}}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Page",{attrs:{total:this.pageObj.total,current:this.pageObj.current,"page-size":this.pageObj["page-size"]},on:{"on-change":this.changePage}})],1)},staticRenderFns:[]};var x=n("VU/8")(_,y,!1,function(e){n("yPrL")},"data-v-cc2afaae",null).exports,$=n("Muz9"),P={data:function(){return{value:"",RID:""}},mounted:function(){},methods:{getData:function(){var e=k()(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.value){e.next=2;break}return e.abrupt("return",!1);case 2:return{filters:{ownerCustomID:{EQ:this.value}}},e.next=5,$.post("/im/search-srv/im_group_views/page",{customID:this.value});case 5:return t=e.sent,console.log(t),e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getRID:function(){return this.RID}}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n\t   群主微信号:"),n("Input",{staticStyle:{width:"100%"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v("\n     RID:"),n("Input",{staticStyle:{width:"100%"},model:{value:e.RID,callback:function(t){e.RID=t},expression:"RID"}})],1)},staticRenderFns:[]};var I=n("VU/8")(P,R,!1,function(e){n("wv7b")},"data-v-6ebb8a56",null).exports,M=(n("Muz9"),{props:{rows:{type:Array}},data:function(){var e=this;return{currentChoose:"",columns:[{title:"选择",key:"id",width:70,align:"center",render:function(t,n){var a=n.row.id,r=!1;r=e.currentChoose===a;var s=e;return t("div",[t("Radio",{props:{value:r},on:{"on-change":function(){s.currentChoose=a,s.selections=[n.row]}}})])}},{title:"群名",key:"name"},{title:"群成员",key:"memberCount"}],data:[],height:"500px",selections:[]}},mounted:function(){console.log(this.rows),this.$nextTick(function(){this.data=this.rows})},methods:{select:function(e,t){console.log(e),this.selections=e},getSelections:function(){return this.selections}}}),L={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Table",{attrs:{columns:this.columns,data:this.data,height:this.height,border:""}})],1)},staticRenderFns:[]};var C=n("VU/8")(M,L,!1,function(e){n("JXHs")},"data-v-a3331cb4",null).exports,z=n("Muz9"),j={components:{choose:I,pageS:x,groupList:C},data:function(){return{columns:[{type:"index",width:60,title:"序号",align:"center"},{title:"群名",key:"group_name"},{title:"群主微信名",key:"nickname"},{title:"群主微信号",key:"puid"},{title:"RID",key:"rid"},{title:"创建时间",key:"create_time"}],data:[],height:0,allocationModal:!1,pageObj:{},page:1,"page-size":20}},methods:{createRelation:function(){var e=this,t={render:function(){return(0,e.$createElement)("choose")},width:"200px;",loading:!0,onOk:function(){var t=k()(w.a.mark(function t(n){var a,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getData();case 2:return a=t.sent,t.next=5,n.getRID();case 5:r=t.sent,this.$children[0].$children[2].loading=!1,console.log(a),console.log(e.$Modal),console.log(e),console.log(this),0!=a&&r?a&&a.data&&a.data.content&&a.data.content.length>0?e.showGroupLists(a.data.content,r):e.$Message.error("查询失败"):e.$Message.error("请输入");case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()};t=s.handle(t),this.$Modal.confirm(t)},changepage:function(e){console.log("pppppppp"),console.log(e),this.page=e,this.getPageList()},showGroupLists:function(e,t){var n=this;this.$Modal.remove();var a={render:function(){return(0,n.$createElement)("groupList",{props:{rows:e}})},width:"800px;",onOk:function(){var e=k()(w.a.mark(function e(a){var r,o,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=a.getSelections())&&r.length>0)){e.next=8;break}return o={data:r,RID:t,token:s.getCookie("key")},e.next=5,z.post("/api/binding",o);case 5:(i=e.sent)&&i.data&&0==i.data.code?(n.$Message.success("绑定成功"),n.getPageList()):n.$Message.error(i.data.msg),console.log(i);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()};a=s.handle(a),this.$nextTick(function(){var e=this;setTimeout(function(){e.$Modal.confirm(a)},300)})},getPageList:function(){var e=k()(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/api/getBinding",{pobj:{page:this.page,page_size:this["page-size"]},token:s.getCookie("key")});case 2:t=e.sent,console.log(t),t.data&&t.data.results&&t.data.results.length>0&&(n={total:t.data.count,current:this.page,"page-size":this["page-size"]},this.data=t.data.results,this.pageObj=n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},mounted:function(){this.$nextTick(k()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.height=this.$refs.tableWrap.clientHeight,this.getPageList();case 2:case"end":return e.stop()}},e,this)})))}},D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index_full pd5"},[n("div",{staticClass:"tableHead"},[n("Button",{attrs:{type:"primary"},on:{click:e.createRelation}},[e._v("创建关系")]),e._v(" "),n("Button",{attrs:{type:"primary"},on:{click:e.getPageList}},[e._v("刷新")])],1),e._v(" "),n("div",{ref:"tableWrap",staticClass:"tableWrap"},[n("Table",{attrs:{columns:e.columns,data:e.data,height:e.height,border:""}})],1),e._v(" "),n("div",{staticClass:"tablePage"},[n("page-s",{attrs:{pageObj:e.pageObj},on:{changepage:e.changepage}})],1)])},staticRenderFns:[]};var F=n("VU/8")(j,D,!1,function(e){n("V0u6")},"data-v-58ce2688",null).exports,O=n("Muz9"),E={components:{pageS:x},data:function(){return{columns:[{title:"淘宝订单",key:"trade_id"},{title:"收入",key:"fee"},{title:"创建时间",key:"create_time"}],data:[],height:0,pageObj:{},page:1,"page-size":20}},methods:{getPageList:function(){var e=k()(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("/api/getCommission_fee",{pobj:{page:this.page,page_size:this["page-size"]},token:s.getCookie("key")});case 2:t=e.sent,console.log(t),t.data&&t.data.results&&t.data.results.length>0&&(n={total:t.data.count,current:this.page,"page-size":this["page-size"]},this.data=t.data.results,this.pageObj=n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),changepage:function(e){this.page=e,this.getPageList()},rowDblclick:function(e){console.log(e)}},mounted:function(){this.$nextTick(function(){this.height=this.$refs.tableWrap.clientHeight,this.getPageList()})}},T={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"index_full pd5"},[t("div",{ref:"tableWrap",staticClass:"tableWrap"},[t("Table",{attrs:{columns:this.columns,data:this.data,height:this.height,border:""},on:{"on-row-dblclick":this.rowDblclick}})],1),this._v(" "),t("div",{staticClass:"tablePage"},[t("page-s",{attrs:{pageObj:this.pageObj},on:{changepage:this.changepage}})],1)])},staticRenderFns:[]};var S=n("VU/8")(E,T,!1,function(e){n("ejzH")},"data-v-cd5a96f8",null).exports,H=(n("Muz9"),{data:function(){return{formPassword:{oldPassword:"",newPassword:""},rulePassword:{oldPassword:[{required:!0,message:"请填写旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"最少6位",trigger:"blur"}]}}},mounted:function(){},methods:{handleEdit:function(){console.log(this.formPassword)}}}),U={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index_full pd5 other"},[n("div",{staticClass:"editPasswordWrap"},[n("Form",{ref:"password",attrs:{model:e.formPassword,rules:e.rulePassword}},[n("FormItem",{attrs:{prop:"oldPassword"}},[n("Input",{attrs:{type:"password",placeholder:"旧密码"},model:{value:e.formPassword.oldPassword,callback:function(t){e.$set(e.formPassword,"oldPassword",t)},expression:"formPassword.oldPassword"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{attrs:{prop:"newPassword"}},[n("Input",{attrs:{type:"password",placeholder:"新密码"},model:{value:e.formPassword.newPassword,callback:function(t){e.$set(e.formPassword,"newPassword",t)},expression:"formPassword.newPassword"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1)],1),e._v(" "),n("Button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleEdit}},[e._v("确认修改")])],1)])},staticRenderFns:[]};var V=n("VU/8")(H,U,!1,function(e){n("DAia")},"data-v-36d1ffb3",null).exports,W={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("404")])])}]};var q=n("VU/8")({data:function(){return{}},mounted:function(){}},W,!1,function(e){n("RMQj")},"data-v-5a4a29b9",null).exports,A=n("PECZ"),B=n.n(A);n("vLY0");a.default.use(B.a),a.default.use(u.a);var N=new u.a({routes:[,{path:"/login",name:"login",components:{default:g}},{path:"/index",name:"index",components:{default:f},children:[{path:"pidmanage",component:F},{path:"incomemanage",component:S},{path:"accountmanage",component:V}]},{path:"*",component:q}]});n("Muz9");a.default.config.productionTip=!1,new a.default({el:"#app",router:N,components:{App:c},template:"<App/>"})},RMQj:function(e,t){},V0u6:function(e,t){},cNMg:function(e,t){},ejzH:function(e,t){},rNfa:function(e,t){},vLY0:function(e,t){},wv7b:function(e,t){},yPrL:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.099fcf30bc32302f9ee5.js.map